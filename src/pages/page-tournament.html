<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="./../../bower_components/google-map/google-map-marker.html">
<link rel="import" href="./../../bower_components/google-map/google-map.html">
<link rel="import" href="./../../bower_components/google-map/google-map-search.html">
<link rel="import" href="./../../bower_components/iron-icons/iron-icons.html">
<dom-module id="page-tournament">
    <template>
        <style>
             :host {
                display: block;
                padding: 10px 20px;
            }

            google-map {
                height: 70vh;
            }

            .circle {
                height: 64px;
                width: 64px;
                margin-top: 10px;
                line-height: 64px;
                display: inline-block;
                text-align: center;
                color: #555;
                border-radius: 50%;
                background: #ddd; 
            }
            paper-button {
                margin: 10px;
            }
        </style>
        <div>
            <button on-click="openDialog">click</button>
            <google-map-search map="[[map]]" query="Pizza" results="{{results}}">
            </google-map-search>
            <google-map fit-to-marker api-key="AIzaSyD3E1D9b-Z7ekrT3tbhl_dy8DCXuIuDDRc" latitude="13.819226899999999" longitude="100.51235609999999"
                zoom="17">
                <template is="dom-repeat" items="{{data}}">
                    <google-map-marker on-google-map-marker-click="check" latitude="{{item.latitude}}" longitude="{{item.longitude}}" animation="DROP">
                       <span style="display: block; text-align: center;">[[item.displayName]]</span>
                       <img src="[[item.photoURL]]" style="height: 64px;
                        text-align: center;
                        width: 64px;
                        margin-top: 10px;
                        line-height: 64px;
                        display: block;
                        text-align: center;
                        color: #555;
                        border-radius: 50%;
                        background: #ddd;
                         float:left" alt="[[item.displayName]]">
               
                    
                    <!--<paper-button raised style="margin: 10px;" on-click="fight">FIGHT !!!</paper-button>-->
                    <BR>
                    
                        <!--<div>[[item.displayName]]</div>
                        <div secondary>WIN [[item.win]] LOSE [[item.lose]] (DIFF [[item.diff]]) </div>-->
                    </google-map-marker>
                </template>
            </google-map>
            <paper-dialog id="modal">
                 <h2>ALERT MESSAGE !! </h2>
                <p>
                    คุณ NAME ต้องการจะสู้กับคุณ
                </p>
            <div class="buttons" style="border-top:1px solid #ddd">
                <paper-button dialog-confirm autofocus>YES</paper-button>
                <paper-button dialog-confirm autofocus>NO</paper-button>
            </div>
            </paper-dialog>
        </div>
    </template>

    <script>
        class PageTournament extends Polymer.Element {
            static get is() { return 'page-tournament'; }
            static get properties() {
                return {
                    // // This shouldn't be neccessary, but the Analyzer isn't picking up
                    // // Polymer.Element#rootPath
                    // rootPath: String,
                };
            }
            ready() {
                super.ready()
                // this.addEventListener('google-map-marker-click', this.check.bind(this))
            }
            check() {
                console.log('1234')
            }
            openDialog(){
                console.log('1234')
                this.$.modal.open()

            }
        }

        window.customElements.define(PageTournament.is, PageTournament);
    </script>
</dom-module>